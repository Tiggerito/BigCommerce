<script data-cfasync="false">   
/*
    Web Site Advantage: Tag Rocket Page Lightning [v1.0] 
    Enable Tag Rocket to tell Page Lightning when some needs are met, like consent
    https://bigcommerce.websiteadvantage.com.au/tag-rocket/articles/tag-rocket-api/
    Copyright (C) 2026 Web Site Advantage
*/
!function(w,t,p){
    w[t]=w[t]||{};var T=w[t];T.i=T.i||[];if(!T.init)T.init=function(f){T.i.push(f)};

    var consentTypeUpdate = function(type, value) {
        if (value) {
            return 'consent-' + type;
        } else {
            return '-consent-' + type;
        }
    }

    var consentUpdate = function(consent) {
        window[p].needsMet(
            consentTypeUpdate('targetingAdvertising', consent.targetingAdvertising),
            consentTypeUpdate('analytics', consent.analytics),
            consentTypeUpdate('functional', consent.functional),
            consentTypeUpdate('adPersonalization', consent.adPersonalization),
            consentTypeUpdate('adUserData', consent.adUserData),    
        ); 
    }
    
    T.init(function() {
        consentUpdate(T.consent);
        
        T.on('.*',function(data, eventName){
            switch(eventName) {
                case "ConsentChanged":
                    consentUpdate(T.consent);
                    break;
            }
        });
    })
}(window,"TagRocket", "PageLightning")
</script>